-- select * from City
-- select * from address
-- select * from Account
-- select * from Category;

/*
DECLARE @salt varchar(32), @passWithSalt binary(32)
SET @passWithSalt = HASHBYTES('SHA2_256', CONCAT('abc123', 'E7029B722DA04F1BBE1F11FDEB513DE2'))
PRINT @passWithSalt
print HASHBYTES('SHA2_256', CONCAT('abc123', 'E7029B722DA04F1BBE1F11FDEB513DE2'))
B5EE37F1DC3A46AC83F48BDA17207099

-- 0xD3918BCB08EBFB4E4A24C5D6EBDC1A4234C0A5E785480B5B347915026552F860
-- 0xD3918BCB08EBFB4E4A24C5D6EBDC1A4234C0A5E785480B5B347915026552F860
*/

-- ***** INSERT

 exec AddAddress @Street='Faubourg Leon Hurez', 
 					@Number ='14', @CityId = 1936

-- **********************************************************

exec AddAccount @Login = 'dave',
				@LastName = 'Lissens', 
				@FirstName = 'David', 
				@Password = 'abc123', 
				@RoleID = 1, 
				@AddressId = 1;

exec CheckAccountPassword @login='dave', @password='abc123'

-- **********************************************************

exec AddCategory @Name='Cat 1',
				 @CreateBy = 1;

-- **********************************************************

exec [AddContactInfo] @ContactType='email', @ContactInformation='02/270 93 04'

-- **********************************************************

DECLARE @tmp varbinary(max);
SET @tmp = CONVERT(varbinary, '6011511810332120109108110115613410411611611258474711911911946119514611111410347504848484711511810334321191051001161046134505550343210410110510310411661345750346260112971161043210210510810861343569655251515334321006134774949534655533252554649569948324950465555455746575732505046495645505046505332505046495611545505046505345574652494550504650534550504649566755494650533251524651503256494650523250533257514653325053115505046505332574651503250504650533250504649561221094557465552324899484555465756455346555745495146525245495046534945495146525283564846575732515746503256484657573252554649569948325546573253465557324951465252324950465349324951465252115495046534945534653533249504653494549514652521223447626011297116104321021051081086134357066666748533432100613477495451465553325255464956994832495046555545574657573250504649564550504650533250504649561154550504650534557465249455050465053455050464956994845495046565332574657574550504649563250504650534550504649561155050465053325746515032505046505332505046495612210945574655523248994845554657564553465557454951465252454950465349454951465252115454950465349325346525445495046534932495146525299483255465732534655573249514652523249504653493249514652521154950465349455346535332495046534945495146525212234476260112971161043210210510810861343552505653705234321006134775048574655533250544651521185157465650994832495446515645574654543250514648554550494648563250514648554549484655533248454955465050455546495745495746545445495146485510856465256455146535199494653493251465449325346504932554656553249494649553255465655325546514932483249494656524552465349324949465652454951118455146495710445465152994550464956325046545745544651563253464852454949465456325346485245494946485732484550494650534557465454455049465053455050464857324845495046535032494846495445505046505432504946505345505046505432534650573248325746525732504651533249494654563252465754104465152118455146544910457465053122109455646535432504846575099484555465649455346504945495146535045494946565245495146535045544655503248454950465153325346554945495046515332495146535032483255465551325346545132495146515432495046515332495146515432544654513248324949465652455346545132494946565245495146515412234476260112971161043210210510810861343551526556535134321006134775050533251118545310445574653865110457465312234476260112971161043210210510810861343569655251515334321006134775054504648503253524652561085546535432534648529945504652523251465449455646515032574656514549564652563257465651454950465432484550504648494557465552455050464849455050464956324845495146495732574652574550504649563250484657504550504649563249494653493248324955464952325746495432495646575632495246494910849464849325046535045505746545332495046505699504650553252465253325346563254465550324948465553325446555032524657543248325646524550465252324948465750455446495212210945505146505545554657561084957465650455646505199454946485745504655554552465155455246554556465051455246554552465753324845494946565232524651554549494653573249504657511223447626011297116104321021051081086134355250565370523432100613477515346505732524946524986515072545599465149324946545246525532514653564652553253465456324832554648544549465751324953465557455646495332505046484945544648533254465145495146555632574654544550524648503257465454674954465150325457465153465154325351465657465154325152465749465154324953465751324954465150465255325153465146525599494846533248324955465756325246495032505146543257465257108455446545232544654529945524648514551465556455746525745544655504549544657554554465550454951465654324845505246553249494649554550524655325053464851324832495146565432494846565232505346485132505246553250534648513256465757324832495246494945514654493249554651574554465657325046545445504654543252465249455446525432534649454949465453108455050465257464849122344762604711511810362');
PRINT @TMP

exec [AddFiles] @Name = 'logo google',
				@FileName = 'google_logo.svg',
				@FileExension = 'svg',
				@FileByte = @tmp,
				@FileSize = '1829',
				@CreateBy = 1;

-- **********************************************************

exec [AddProduct] @Manufacturer = 'Buderus',
				  @Name = 'Chaudière à condensation',
				  @CreateBy = 1;

-- **********************************************************

exec [AddProject] @Name='Maison Hafid',
				  @AddressId=1,
				  @CreateBy=1

-- **********************************************************

exec [AddSupplier] @Name='Facq',
				   @AddressId = 1,
				   @CreateBy = 1;

-- **********************************************************
-- ***** GET
-- **********************************************************

exec [GetFile] @id = 1

exec [GetAccount] @id = 1

exec [GetAccountByLogin] @login = 'dave'

exec [GetCategory] @id = 1

exec [GetCategoryByName] @name = 'Cat 1'

exec [GetCategoryAll]

exec [GetCity] @id = '1'

exec [GetCityByName] @name = 'li'

exec [GetCityByCountry] @CountryId = 21

exec [GetCityByPostalCode] @postalCode = '7110'

exec [GetCountry] @id = 21

exec [GetCountryByCode] @Iso = 'BE'

exec [GetCountryByName] @name = 'BEL'

exec [GetContactInfo]  @id = 1

exec [GetProduct] @id = 1

exec [GetProductAll]

exec [GetProductByName] @name = 'chaudière'

exec [GetProductByManufacturer] @manufacturer = 'buderus'

exec [GetProject] @id = 1

exec [GetProjectByName] @name = 'Hafid'

-- insert into [Account_Project] ([AccountId], [ProjectId] ) values (1 , 1)

exec [GetProjectByAccountId] @accountId = 1

exec [GetRole] @id = 1

exec [GetSupplier] @id = 2

exec [GetSupplierContactInfo] @id = 2

exec [GetAccountContactInfo] @id = 1

 -- AccountContactInfo
 DECLARE @accContactInfoId int;
 exec @accContactInfoId =  [AddAccountContactInfo] @AccountId = 1,
													  @ContactInfoId = 1;
 PRINT @accContactInfoId;

  -- Files
 DECLARE @fileProject varbinary(max);
 SET @fileProject = CONVERT(varbinary, '6063120109108321181011141151051111106134494648343210111099111100105110103613485847045563432115116971101009710811111010161341101113463621060115118103103232321201091081101155810099613410411611611258474711211711410846111114103471009947101108101109101110116115474946494734103232321201091081101155899996134104116116112584747991141019711610511810199111109109111110115461111141034711011535341032323212010910811011558114100102613410411611611258474711911911946119514611111410347495757574748504750504511410010245115121110116971204511011535341032323212010910811011558115118103613410411611611258474711911911946119514611111410347504848484711511810334103232321201091081101156134104116116112584747119119119461195146111114103475048484847115118103341032323212010910811011558115111100105112111100105613410411611611258474711511110010511211110010546115111117114991011021111141031014611010111647688468471151111001051121111001054548461001161003410323232120109108110115581051101071159997112101613410411611611258474711911911946105110107115999711210146111114103471109710910111511297991011154710511010711599971121013410323232119105100116104613450494810910934103232321041011051031041166134505755109109341032323211810510111966111120613448324832504948325057553410323232118101114115105111110613449464934103232321051006134115118103563410323232105110107115999711210158118101114115105111110613449464846493240519899501015649511025344325048504845485745485541341032323211511110010511211110010558100111991109710910161348011411110610199116701051081014611511810334621032326010010110211510323232323210510061341001011021155034324762103232601151111001051121111001055811097109101100118105101119103232323232105100613498971151013410323232323211297103101991111081111146134351021021021021021023410323232323298111114100101114991111081111146134355454545454543410323232323298111114100101114111112979910511612161344946483410323232323210511010711599971121015811297103101111112979910511612161344846483410323232323210511010711599971121015811297103101115104971001111196134503410323232323210511010711599971121015812211111110961344846515334103232323232105110107115999711210158991206134524848341032323232321051101071159997112101589912161344550524834103232323232105110107115999711210158100111991171091011101164511711010511611561341091093410323232323210511010711599971121015899117114114101110116451089712110111461341089712110111449341032323232321051101071159997112101581001119911710910111011645114111116971161051111106134483410323232323211510411111910311410510061341029710811510134103232323232105110107115999711210158119105110100111119451191051001161046134505354483410323232323210511010711599971121015811910511010011111945104101105103104116613449515555341032323232321051101071159997112101581191051101001111194512061344556341032323232321051101071159997112101581191051101001111194512161344556341032323232321051101071159997112101581191051101001111194510997120105109105122101100613449343247621032326010910111697100971169710323232323210510061341091011169710097116975334621032323232601141001025882687062103232323232326099995887111114107103232323232323232321141001025897981111171166134346210323232323232323260100995810211111410997116621051099710310147115118103431201091086047100995810211111410997116621032323232323232326010099581161211121011032323232323232323232321141001025811410111511111711499101613410411611611258474711211711410846111114103471009947100991091051161211121014783116105108108731099710310134324762103232323232323232601009958116105116108101626047100995811610511610810162103232323232326047999958871111141076210323232326047114100102588268706210323260471091011169710097116976210323260103103232323232105110107115999711210158108979810110861347697121101114324934103232323232105110107115999711210158103114111117112109111100101613410897121101114341032323232321051006134108971211011144934621032323232601161011201161032323232323232120109108581151129799101613411211410111510111411810134103232323232323211511612110810161341021111101164511511612110810158110111114109971085910211111011645119101105103104116581101111141099710859102111110116451151051221015849484653565151112120591081051101014510410110510310411658494650535910211111011645102971091051081215811597110115451151011141051025910810111611610111445115112979910511010358481121205911911111410045115112979910511010358481121205910210510810858354848484848485910210510810845111112979910511612158495911511611411110710158110111110101591151161141111071014511910510011610458484650545253565134103232323232323212061345353464956525350493410323232323232321216134525746565750565355341032323232323232105100613411610112011656515334626011611511297110103232323232323232321151111001051121111001055811411110810161341081051101013410323232323232323232105100613411611511297110565151341032323232323232323212061345353464956525350493410323232323232323232121613452574656575056535534103232323232323232321151161211081016134115116114111107101451191051001161045848465054525356513462801141111061019911670105108101604711611511297110626047116101120116621032326047103621060471151181036210');
 PRINT @fileProject
 
 DECLARE @fileProduct varbinary(max);
 SET @fileProduct = CONVERT(varbinary, '6063120109108321181011141151051111106134494648343210111099111100105110103613485847045563432115116971101009710811111010161341101113463621060115118103103232321201091081101155810099613410411611611258474711211711410846111114103471009947101108101109101110116115474946494734103232321201091081101155899996134104116116112584747991141019711610511810199111109109111110115461111141034711011535341032323212010910811011558114100102613410411611611258474711911911946119514611111410347495757574748504750504511410010245115121110116971204511011535341032323212010910811011558115118103613410411611611258474711911911946119514611111410347504848484711511810334103232321201091081101156134104116116112584747119119119461195146111114103475048484847115118103341032323212010910811011558115111100105112111100105613410411611611258474711511110010511211110010546115111117114991011021111141031014611010111647688468471151111001051121111001054548461001161003410323232120109108110115581051101071159997112101613410411611611258474711911911946105110107115999711210146111114103471109710910111511297991011154710511010711599971121013410323232119105100116104613450494810910934103232321041011051031041166134505755109109341032323211810510111966111120613448324832504948325057553410323232118101114115105111110613449464934103232321051006134115118103563410323232105110107115999711210158118101114115105111110613449464846493240519899501015649511025344325048504845485745485541341032323211511110010511211110010558100111991109710910161348011411110011799116701051081014611511810334621032326010010110211510323232323210510061341001011021155034324762103232601151111001051121111001055811097109101100118105101119103232323232105100613498971151013410323232323211297103101991111081111146134351021021021021021023410323232323298111114100101114991111081111146134355454545454543410323232323298111114100101114111112979910511612161344946483410323232323210511010711599971121015811297103101111112979910511612161344846483410323232323210511010711599971121015811297103101115104971001111196134503410323232323210511010711599971121015812211111110961344846515334103232323232105110107115999711210158991206134524848341032323232321051101071159997112101589912161344550524834103232323232105110107115999711210158100111991171091011101164511711010511611561341091093410323232323210511010711599971121015899117114114101110116451089712110111461341089712110111449341032323232321051101071159997112101581001119911710910111011645114111116971161051111106134483410323232323211510411111910311410510061341029710811510134103232323232105110107115999711210158119105110100111119451191051001161046134505354483410323232323210511010711599971121015811910511010011111945104101105103104116613449515555341032323232321051101071159997112101581191051101001111194512061344556341032323232321051101071159997112101581191051101001111194512161344556341032323232321051101071159997112101581191051101001111194510997120105109105122101100613449343247621032326010910111697100971169710323232323210510061341091011169710097116975334621032323232601141001025882687062103232323232326099995887111114107103232323232323232321141001025897981111171166134346210323232323232323260100995810211111410997116621051099710310147115118103431201091086047100995810211111410997116621032323232323232326010099581161211121011032323232323232323232321141001025811410111511111711499101613410411611611258474711211711410846111114103471009947100991091051161211121014783116105108108731099710310134324762103232323232323232601009958116105116108101626047100995811610511610810162103232323232326047999958871111141076210323232326047114100102588268706210323260471091011169710097116976210323260103103232323232105110107115999711210158108979810110861347697121101114324934103232323232105110107115999711210158103114111117112109111100101613410897121101114341032323232321051006134108971211011144934621032323232601161011201161032323232323232120109108581151129799101613411211410111510111411810134103232323232323211511612110810161341021111101164511511612110810158110111114109971085910211111011645119101105103104116581101111141099710859102111110116451151051221015849484653565151112120591081051101014510410110510310411658494650535910211111011645102971091051081215811597110115451151011141051025910810111611610111445115112979910511010358481121205911911111410045115112979910511010358481121205910210510810858354848484848485910210510810845111112979910511612158495911511611411110710158110111110101591151161141111071014511910510011610458484650545253565134103232323232323212061345353464956525350493410323232323232321216134525746565750565355341032323232323232105100613411610112011656515334626011611511297110103232323232323232321151111001051121111001055811411110810161341081051101013410323232323232323232105100613411611511297110565151341032323232323232323212061345353464956525350493410323232323232323232121613452574656575056535534103232323232323232321151161211081016134115116114111107101451191051001161045848465054525356513462801141111001179911670105108101604711611511297110626047116101120116621032326047103621060471151181036210');
 PRINT @fileProduct
 
 DECLARE @fileProjectId int;
 exec @fileProjectId = [AddFiles]	@Name = 'project file',
									@FileName = 'projectFile.svg',
									@FileExension = 'svg',
									@FileByte = @fileProject,
									@FileSize = '2047',
									@CreateBy = 1;

 DECLARE @fileProductId int;
 exec @fileProductId = [AddFiles]	@Name = 'product file',
									@FileName = 'productFile.svg',
									@FileExension = 'svg',
									@FileByte = @fileProduct,
									@FileSize = '2047',
									@CreateBy = 1;